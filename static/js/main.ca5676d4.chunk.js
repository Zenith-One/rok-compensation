(this["webpackJsonptroop-comp"]=this["webpackJsonptroop-comp"]||[]).push([[0],{78:function(e,t,n){},80:function(e,t,n){},81:function(e,t,n){},85:function(e,t,n){"use strict";n.r(t);var o,a,i=n(5),s=n(0),r=n.n(s),c=n(9),d=n.n(c),l=(n(78),n(49)),h=n(126),u=n(123),p=n(128),j=n(127),f=(n(79),n(80),n(58)),m=n(37),b=n(38),g=n(39),x=n(47),O=n(46),v=n(54),y=n(119),C=n(120),w=n(131),D=n(124),T=n(129),S=n(118);n(81);!function(e){e.SIEGE="Siege",e.ARCHER="Archer",e.CAVALRY="Cavalry",e.INFANTRY="Infantry"}(o||(o={})),function(e){e[e.T1=1]="T1",e[e.T2=2]="T2",e[e.T3=3]="T3",e[e.T4=4]="T4",e[e.T5=5]="T5"}(a||(a={}));var k={arr:[{name:"Select Type...",cost:{heal:{minutes:0,food:0,wood:0,stone:0,gold:0,timeFood:0,timeWood:0,timeStone:0,timeGold:0},fresh:{minutes:0,food:0,wood:0,stone:0,gold:0,timeFood:0,timeWood:0,timeStone:0,timeGold:0}}}]};function U(e,t,n,o,a,i,s,r,c,d,l,h,u,p,j,f){var m={name:"".concat(e," T").concat(t),cost:{heal:{minutes:s,food:n,wood:o,stone:a,gold:i,timeFood:r,timeWood:c,timeStone:d,timeGold:l},fresh:{minutes:h,food:n/.4,wood:o/.4,stone:a/.4,gold:i/.4,timeFood:u,timeWood:p,timeStone:j,timeGold:f}}};k[e]=k[e]||{},k[e][t]=m,k.arr.push(m)}U("Siege",1,24,24,0,0,0,0,0,0,0,.25,150,150,0,0),U("Siege",2,26,26,20,0,.01666666667,6.666666667,6.666666667,5,0,.5,300,300,225,0),U("Siege",3,40,40,30,4,.03333333333,10,10,7.5,3.333333333,1,600,600,450,200),U("Siege",4,80,80,60,8,.05,15,15,11.25,5,1.333333333,800,800,600,266.6666667),U("Siege",5,200,200,160,160,.06666666667,20,20,15,6.666666667,2,1200,1200,900,400),U("Archer",1,16,24,0,0,0,0,0,0,0,.25,150,150,0,0),U("Archer",2,0,40,30,0,.01666666667,0,10,7.5,0,.5,0,300,225,0),U("Archer",3,0,60,44,4,.03333333333,0,13.33333333,10,4.444444444,1,0,600,450,200),U("Archer",4,0,120,90,8,.05,0,20,15,6.666666667,1.333333333,0,800,600,266.6666667),U("Archer",5,0,320,240,160,.06666666667,0,26.66666667,20,8.888888889,2,0,1200,900,400),U("Cavalry",1,24,16,0,0,0,0,0,0,0,.25,150,150,0,0),U("Cavalry",2,40,0,30,0,.01666666667,10,0,7.5,0,.5,300,0,225,0),U("Cavalry",3,60,0,40,4,.03333333333,13.33333333,0,10,4.444444444,1,600,0,450,200),U("Cavalry",4,120,0,90,8,.05,20,0,15,6.666666667,1.333333333,800,0,600,266.6666667),U("Cavalry",5,320,0,240,160,.06666666667,26.66666667,0,20,8.888888889,2,1200,0,900,400),U("Infantry",1,20,20,0,0,0,0,0,0,0,.25,150,150,0,0),U("Infantry",2,40,40,0,0,.01666666667,10,10,0,0,.5,300,300,0,0),U("Infantry",3,60,60,0,4,.03333333333,13.33333333,13.33333333,0,4.444444444,1,600,600,0,200),U("Infantry",4,120,120,0,8,.05,20,20,0,6.666666667,1.333333333,800,800,0,266.6666667),U("Infantry",5,320,320,0,160,.06666666667,26.66666667,26.66666667,0,8.888888889,2,1200,1200,0,400);var A=k,E=n(133),N=A.arr.map((function(e,t){return Object(v.a)({label:e.name,value:t+""},e)})),I=A.arr.map((function(e,t){return{label:e.name,value:""+t}})),F=function(e){return{unitData:N[0],unitCount:0,isDead:!1,cost:{index:e,time:0,food:0,wood:0,stone:0,gold:0}}},R=I.map((function(e){return Object(i.jsx)(T.a,{value:e.value,children:e.label},e.label)})),M=function(e){Object(x.a)(n,e);var t=Object(O.a)(n);function n(){var e;Object(b.a)(this,n);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state=F(e.props.index),e.handleUnitTypeChange=function(t){var n=N[Number(t.target.value)];e.setState({unitData:n})},e.handleUnitCountChange=function(t){var n=Number(t.target.value);e.setState({unitCount:n})},e.handleUnitIsDead=function(t){var n=t.target.checked;e.setState({isDead:n})},e.handleDelete=function(){e.props.handleDelete&&"function"===typeof e.props.handleDelete&&e.props.handleDelete(e.props.index)},e}return Object(g.a)(n,[{key:"componentDidUpdate",value:function(e){var t=this.state.isDead?this.state.unitData.cost.fresh:this.state.unitData.cost.heal;console.log(this.state.isDead?"fresh!":"heal!");var n=this.state.unitCount*t.food+(this.props.compensateTime?this.state.unitCount*t.timeFood:0),o=this.state.unitCount*t.food+(this.props.compensateTime?this.state.unitCount*t.timeWood:0),a=this.state.unitCount*t.food+(this.props.compensateTime?this.state.unitCount*t.timeStone:0),i=this.state.unitCount*t.food+(this.props.compensateTime?this.state.unitCount*t.timeGold:0),s={index:this.props.index,time:t.minutes*this.state.unitCount,food:n,wood:o,stone:a,gold:i};this.state.cost.food!==n||this.state.cost.wood!==o||this.state.cost.stone!==a||this.state.cost.gold!==i?(console.log("something changed (component side)"),this.setState({cost:s}),this.props.handleUpdate&&"function"===typeof this.props.handleUpdate&&this.props.handleUpdate(this.props.index,s)):console.log("nothing changed (component side)")}},{key:"showDelete",value:function(){return this.props.showDelete?Object(i.jsx)(S.a,{color:"secondary",size:"small",onClick:this.handleDelete,variant:"contained",children:"X"}):""}},{key:"render",value:function(){return Object(i.jsx)("form",{noValidate:!0,autoComplete:"off",className:"troop-entry-row",id:"troop-entry-"+this.props.index,children:Object(i.jsxs)(y.a,{row:!0,children:[Object(i.jsxs)(C.a,{className:"troop-entry-field",children:[Object(i.jsx)(w.a,{id:"troop-select-label",children:"Type/Tier"}),Object(i.jsx)(D.a,{labelId:"troop-select-label",id:"troop-select",value:this.state.unitData.value,onChange:this.handleUnitTypeChange,children:R})]}),Object(i.jsx)(E.a,{className:"troop-entry-field",id:"standard-basic",label:"# of Units",value:this.state.unitCount,onChange:this.handleUnitCountChange}),Object(i.jsx)(p.a,{className:"troop-entry-field",control:Object(i.jsx)(j.a,{checked:this.state.isDead,onChange:this.handleUnitIsDead,name:"checkedB",color:"secondary"}),label:"Dead?"}),Object(i.jsx)("p",{children:this.showDelete()})]})},"troop-entry-"+this.props.index)}}]),n}(r.a.Component),P=function(e,t){var n=e.filter((function(e){return e.index===t.index}))[0];return!(n.food===t.food&&n.wood===t.wood&&n.stone===t.stone&&n.gold===t.gold&&n.time===t.time)},B=function(e){Object(x.a)(n,e);var t=Object(O.a)(n);function n(){var e;Object(b.a)(this,n);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={entries:[F(0).cost],isEditing:!1},e.updateParent=function(t){e.props.handleDataUpdate&&"function"===typeof e.props.handleDataUpdate&&e.props.handleDataUpdate(t)},e.handleRowUpdate=function(t,n){var o=e.getPosition(t);if(P(e.state.entries,n)){console.log(n);var a=Object.assign([],e.state.entries,Object(m.a)({},o,n));e.setState({entries:a}),e.updateParent(a)}else console.log("nothing changed.")},e.handleEditingToggle=function(){e.setState({isEditing:!e.state.isEditing})},e.handleAddClick=function(){var t=e.state.entries[e.state.entries.length-1].index;e.setState({entries:[].concat(Object(f.a)(e.state.entries),[F(t+1).cost])})},e.handleRowDelete=function(t){var n=e.state.entries.filter((function(e){return e.index!==t}));console.log(n),e.setState({entries:n}),e.updateParent(n)},e}return Object(g.a)(n,[{key:"getPosition",value:function(e){for(var t=0;t<this.state.entries.length;t+=1)if(this.state.entries[t].index===e)return t;return-1}},{key:"getEditButton",value:function(){return this.state.isEditing?Object(i.jsx)(S.a,{variant:"contained",className:"right",onClick:this.handleEditingToggle,children:"Done Editing"}):Object(i.jsx)(S.a,{variant:"contained",color:"secondary",className:"right",onClick:this.handleEditingToggle,children:"Edit"})}},{key:"getRows",value:function(){var e=this;return this.state.entries.map((function(t,n){return Object(i.jsx)(M,{index:t.index,compensateTime:e.props.compensateTime,showDelete:e.state.entries.length>1&&e.state.isEditing,handleDelete:e.handleRowDelete.bind(e),handleUpdate:e.handleRowUpdate.bind(e)},t.index)}))}},{key:"render",value:function(){return Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{className:"entries",children:this.getRows()}),Object(i.jsxs)("div",{className:"buttons",children:[Object(i.jsx)(S.a,{variant:"contained",color:"primary",onClick:this.handleAddClick,className:"left",children:"Add +"}),this.getEditButton()]})]})}}]),n}(r.a.Component);function G(e){var t=1440,n=Math.floor(e/t),o=Math.floor(e%t/60);return(n>0?n+"d ":"")+(o>0||n>0?o+"h ":"")+(e-n*t-60*o)+"m"}function W(e){var t=1e9,n=1e6,o=1,a="";e>=t?(o=t,a="B"):e>=n?(o=n,a="M"):e>=1e3&&(o=1e3,a="K");var s=1===o?e:Math.ceil(e/(o/100))/100;return Object(i.jsxs)("span",{children:[s,a]})}var L=function(){var e=Object(s.useState)(!0),t=Object(l.a)(e,2),n=t[0],o=t[1],a=Object(s.useState)({time:0,food:0,wood:0,stone:0,gold:0}),r=Object(l.a)(a,2),c=r[0],d=r[1];return Object(i.jsx)(u.a,{maxWidth:"sm",children:Object(i.jsxs)("div",{className:"App",children:[Object(i.jsxs)("header",{children:[Object(i.jsx)("h2",{children:"Troop Compensation Calculator"}),Object(i.jsx)(p.a,{className:"troop-entry-field",labelPlacement:"start",control:Object(i.jsx)(j.a,{checked:n,onChange:function(e){o(e.target.checked)},name:"checkedB",color:"primary"}),label:"Compensate Time"})]}),Object(i.jsx)(h.a,{children:Object(i.jsxs)("table",{children:[Object(i.jsx)("thead",{children:Object(i.jsxs)("tr",{children:[Object(i.jsx)("td",{children:"Recovery Time"}),Object(i.jsx)("td",{children:"Food"}),Object(i.jsx)("td",{children:"Wood"}),Object(i.jsx)("td",{children:"Stone"}),Object(i.jsx)("td",{children:"Gold"})]})}),Object(i.jsx)("tbody",{children:Object(i.jsxs)("tr",{children:[Object(i.jsx)("td",{children:G(c.time)}),Object(i.jsx)("td",{children:W(c.food)}),Object(i.jsx)("td",{children:W(c.wood)}),Object(i.jsx)("td",{children:W(c.stone)}),Object(i.jsx)("td",{children:W(c.gold)})]})})]})}),Object(i.jsx)(h.a,{children:Object(i.jsx)(B,{handleDataUpdate:function(e){var t;d({index:(t=e.reduce((function(e,t){return{index:0,time:e.time+t.time,food:e.food+t.food,wood:e.wood+t.wood,stone:e.stone+t.stone,gold:e.gold+t.gold}}))).index,time:Math.ceil(t.time),food:Math.ceil(t.food),wood:Math.ceil(t.wood),stone:Math.ceil(t.stone),gold:Math.ceil(t.gold)})},compensateTime:n})})]})})},J=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,134)).then((function(t){var n=t.getCLS,o=t.getFID,a=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),o(e),a(e),i(e),s(e)}))};d.a.render(Object(i.jsx)(r.a.StrictMode,{children:Object(i.jsx)(L,{})}),document.getElementById("root")),J()}},[[85,1,2]]]);
//# sourceMappingURL=main.ca5676d4.chunk.js.map